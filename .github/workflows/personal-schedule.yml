name: Personal Daily Schedule

on:
  schedule:
    # –¢—Ä–∏ —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å: 07:30, 12:30, 19:00 –ø–æ –ú–æ—Å–∫–≤–µ (04:30, 09:30, 16:00 UTC)
    - cron: '30 4 * * *'  # –£—Ç—Ä–æ 07:30 –ú–°–ö
    - cron: '30 9 * * *'  # –î–µ–Ω—å 12:30 –ú–°–ö  
    - cron: '0 16 * * *'  # –í–µ—á–µ—Ä 19:00 –ú–°–ö
  workflow_dispatch:  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  notify:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
        
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install aiohttp
        echo "‚úÖ Dependencies installed"
        
    - name: List files for debugging
      run: |
        echo "üìÅ Current directory: $(pwd)"
        echo "üìÑ Files in root:"
        ls -la
        echo "üìÑ Files in current dir:"
        find . -name "*.py" -type f
        
    - name: Test basic Python
      run: |
        echo "üß™ Testing Python..."
        python --version
        python test_simple.py
        
    - name: Run Personal Schedule
      run: |
        echo "üöÄ Running main script..."
        python personal_schedule.py
      continue-on-error: false
        
    - name: Success notification
      if: success()
      run: |
        echo "‚úÖ Personal schedule reminder sent successfully"
        
    - name: Failure notification
      if: failure()
      run: |
        echo "‚ùå Failed to send personal schedule reminder"
        echo "Check the logs above for details"
